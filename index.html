<!DOCTYPE html>
<html>
<head>
<title>SYEDZ AI-PACS</title>

<style>
body{font-family:Arial;background:#e6ebf0;margin:0}
.header{background:#2f6fd6;color:white;padding:12px;font-size:22px}
.toolbar{background:#d5dbe2;padding:8px}
table{width:100%;border-collapse:collapse;background:white;margin:10px}
th{background:#2f6fd6;color:white;padding:6px}
td{padding:6px;border:1px solid #ddd;text-align:center}
#result{margin:10px;padding:10px;background:#e7f2ff}
button{padding:6px}
</style>
</head>

<body>

<div class="header">SYEDZ AI-PACS</div>

<div class="toolbar">
<input type="file" id="file">
<button onclick="analyze()">Analyze X-ray</button>
</div>

<table>
<tr>
<th>Patient</th>
<th>Modality</th>
<th>Study</th>
<th>AI</th>
</tr>
<tr>
<td>PT-001</td>
<td>XRAY</td>
<td>Chest PA</td>
<td><button>Generate AI</button></td>
</tr>
</table>

<div id="result">Upload image and click Analyze.</div>

<script>
async function analyze(){

const fileInput = document.getElementById("file");
const resultBox = document.getElementById("result");

if(!fileInput.files[0]){
 alert("Select X-ray image first");
 return;
}

const formData = new FormData();
formData.append("data", fileInput.files[0]);

resultBox.innerHTML="Running AI model...";

try{
 const res = await fetch(
 "https://syedasrar-syedz-ai-backend.hf.space/run/predict",
 { method:"POST", body: formData }
 );

 const json = await res.json();
 const preds = json.data[0];

 let out="<b>AI Pathology Probabilities:</b><br><br>";

 for(let k in preds){
   out += k + " : " + (preds[k]*100).toFixed(1) + "%<br>";
 }

 resultBox.innerHTML=out;

}catch(e){
 resultBox.innerHTML="AI backend error â€” check Space running.";
}
}
</script>

</body>
</html>
